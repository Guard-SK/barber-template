---
import Section from './Section.astro';

interface PricingItem {
  name: string;
  description?: string;
  price: string;
  duration?: string;
}

interface PricingCategory {
  name: string;
  items: PricingItem[];
}

interface Props {
  id?: string;
  pricing: {
    note?: string;
    categories: PricingCategory[];
  };
}

const { id = 'pricing', pricing } = Astro.props;
---
<Section id={id} tone="muted">
  <div class="mb-6 md:mb-8 sr max-w-xl mx-auto text-center">
    <h2 class="text-4xl md:text-5xl font-semibold tracking-tight">
      Cenník
    </h2>
  </div>

  <div class="grid gap-5 md:grid-cols-2">
    {pricing.categories.map((category, index) => (
      <section
        class="sr group rounded-2xl border border-border/60 bg-background/70 p-5 md:p-6 shadow-soft transition-colors duration-200 hover:bg-background/95"
        style={`transition-delay: ${index * 60}ms;`}
      >
        {/* header kategórie */}
        <div class="flex items-center justify-between gap-3">
          <h3 class="text-sm font-semibold tracking-tight">
            {category.name}
          </h3>
        </div>

        {/* položky */}
        <div class="mt-4 divide-y divide-border/40 text-xs">
          {category.items.map((item) => (
            <div class="py-3 first:pt-0 last:pb-0">
              <div class="flex items-start justify-between gap-4">
                <div>
                  <div class="text-[13px] font-medium text-foreground">
                    {item.name}
                  </div>
                  {item.description && (
                    <p class="mt-1 text-[11px] text-foreground/70">
                      {item.description}
                    </p>
                  )}
                </div>
                <div class="flex flex-col items-end whitespace-nowrap">
                  <span class="text-sm font-semibold text-primary-soft">
                    {item.price}
                  </span>
                  {item.duration && (
                    <span class="mt-0.5 text-[11px] text-foreground/55">
                      {item.duration}
                    </span>
                  )}
                </div>
              </div>
            </div>
          ))}
        </div>
      </section>
    ))}
  </div>
</Section>

